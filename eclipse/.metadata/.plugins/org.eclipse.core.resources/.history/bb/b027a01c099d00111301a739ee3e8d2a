package net.minecraft.src.wifi;

import java.util.Iterator;
import java.util.List;

import net.minecraft.src.EntityPlayerMP;
import net.minecraft.src.ModLoader;
import net.minecraft.src.World;
import net.minecraft.src.wifiremote.WirelessRemote;

public class RedstoneEtherInjector {
	public static boolean isBlockLoaded(World world, int i, int j, int k) {
		LoggerRedstoneWireless.getInstance("RedstoneEther").write(
				"isBlockLoaded(world, "+i+", "+j+", "+k+
				"):["+(world.getBlockId(i, j, k) != 0)+"&"+(world.getBlockTileEntity(i, j, k) != null)+"]",
		LoggerRedstoneWireless.LogLevel.DEBUG);
		if (world.getBlockId(i, j, k) != 0 ||
				world.getBlockTileEntity(i, j, k) != null) return true;
		List players = world.playerEntities;
		for (Iterator player = players.iterator(); player.hasNext();)
		{
			EntityPlayerMP entityplayer = ((EntityPlayerMP)player);
			if (entityplayer.posX == i && entityplayer.posY == j && entityplayer.posZ == k)
			{
				if (entityplayer.getCurrentEquippedItem().itemID == WirelessRemote.remoteID) return true;
			}
		}
		return false;
	}
}