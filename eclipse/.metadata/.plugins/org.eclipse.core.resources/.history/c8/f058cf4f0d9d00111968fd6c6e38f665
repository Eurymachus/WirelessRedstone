package net.minecraft.src.wifi;

import java.util.Iterator;
import java.util.List;

import net.minecraft.server.MinecraftServer;
import net.minecraft.src.EntityPlayerMP;
import net.minecraft.src.ModLoader;
import net.minecraft.src.World;
import net.minecraft.src.forge.DimensionManager;
import net.minecraft.src.wifiremote.WirelessRemote;

public class RedstoneEtherInjector {
	public static boolean isBlockLoaded(World world, int i, int j, int k) {
		LoggerRedstoneWireless.getInstance("RedstoneEther").write(
				"isBlockLoaded(world, "+i+", "+j+", "+k+
				"):["+(world.getBlockId(i, j, k) != 0)+"&"+(world.getBlockTileEntity(i, j, k) != null)+"]",
		LoggerRedstoneWireless.LogLevel.DEBUG);
		if (world.getBlockId(i, j, k) != 0 ||
				world.getBlockTileEntity(i, j, k) != null) return true;
		World[] worlds = DimensionManager.getWorlds();
		for (int a = 0; a < worlds.length; a++)
		{
			for (int b = 0; b < worlds[a].playerEntities
					.size(); b++)
			{
				EntityPlayerMP player = (EntityPlayerMP)worlds[a].playerEntities.get(b);

				if (player != null) {
					if (player.posX == i && player.posY == j && player.posZ == k) return true;
				}
			}
		}
		return false;
	}
}